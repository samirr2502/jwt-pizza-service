# Incident: 2025-12-04 08-50-00

## Summary

Between 08:50 and approximately 09:00 on December 4, 2025, users attempting to purchase pizzas through **pizza.samirrodriguez.click** received server errors originating from the external Pizza Factory service. The issue was triggered by an internal error within the Pizza Factory system. A link included in the error response pointed to a remediation page; once accessed, the Pizza Factory error cleared and normal operation resumed. This incident caused a temporary service disruption of unknown user impact and lasted roughly 10 minutes.

## Detection

The incident was detected manually by Samir while reviewing the Grafana dashboard. The error rate metric for pizza purchases appeared abnormally high, indicating repeated failed requests to the Pizza Factory. No automated alert was triggered due to the absence of threshold-based alerting for failed requests. Samir later created and tested new alerts to ensure early detection for similar failures in the future.

## Impact

For approximately 10 minutes, between 08:50 and 09:00 UTC-7 on 12/04/2025, users attempting to buy pizzas experienced errors due to failed calls to the Pizza Factory API.

The number of affected customers is unknown because request-failure tracking and detailed per-user analytics were not in place at the time. No support tickets were submitted, but Grafana metrics confirmed repeated failures during the window.

## Timeline

All times are UTC-7.

- _08:50_ - First Pizza Factory server errors appear in logs; users cannot complete purchases.
- _08:53_ - Samir, while checking Grafana dashboards, notices a spike in failed purchase requests.
- _08:55_ - Samir inspects HTTP error responses and finds a link included by the Pizza Factory service for resolving the condition.
- _08:56_ - Samir clicks the remediation link; the Pizza Factory error clears immediately.
- _08:57_ - New successful requests begin appearing in metrics.
- _09:00_ - System behavior returns to normal; incident considered resolved.
- _Later that morning_ - Samir adds and tests new Grafana alerting rules for failed request thresholds.

## Response

Samir was the sole responder and began investigation immediately upon noticing the abnormal metrics around 08:53. After reviewing the failed request payloads, Samir followed the remediation link provided by the Pizza Factory service, which cleared the error. No delays were encountered aside from the time between the start of the incident and discovery, which occurred only because no automated alerting was configured.

## Root cause

The external Pizza Factory service entered an internal error state that caused all purchase requests to return server errors. Because this state exposed a remediation endpoint, accessing that endpoint cleared the error. Lack of automated alerting and insufficient user-level failure tracking contributed to delayed detection and incomplete visibility into impact.

## Resolution

The incident was resolved by following the remediation link included in the Pizza Factory error response, which reset the service and restored normal operation. After confirming successful requests in Grafana, the incident was marked resolved. Time to mitigation could be greatly reduced through automated alerting rather than relying on manual dashboard inspection.

## Prevention

This incident revealed the same root-cause pattern seen in other external-dependency failures: lack of alerting and insufficient monitoring delay detection and obscure the scope of impact. Similar issues may occur again if no alerting is set for failure spikes or dependency outages.

## Action items

1. Add failed-request threshold alerts (Completed by Samir on 12/04/2025).
2. Implement per-user tracking of failed pizza purchases to quantify affected users.
3. Improve logging around external service responses to better isolate future dependency failures.
4. Document remediation procedure for Pizza Factory error states.
